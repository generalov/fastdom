!function(t){"use strict";function e(){var e=this;e.reads=[],e.writes=[],e.raf=o.bind(t),e.runsWriteTasks=!1}function i(t){t.scheduled||(t.scheduled=!0,t.raf(n.bind(null,t)))}function n(t){var e,n=t.writes,s=t.reads;t.runsWriteTasks=!1;try{r(s),t.runsWriteTasks=!0,r(n)}catch(t){e=t}if(t.runsWriteTasks=!1,t.scheduled=!1,(s.length||n.length)&&i(t),e){if(!t.catch)throw e;t.catch(e)}}function r(t){for(var e;e=t.shift();)e()}function s(t,e){var i=t.indexOf(e);return!!~i&&!!t.splice(i,1)}function u(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}var o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,16)};e.prototype={constructor:e,measure:function(t,e){var n=e?t.bind(e):t;return this.reads.push(n),!this.runsWriteTasks||this.writes.length&&!this.writes[this.writes.length-1]||this.writes.push(null),i(this),n},mutate:function(t,e){var n=e?t.bind(e):t;return this.writes.push(n),i(this),n},clear:function(t){return s(this.reads,t)||s(this.writes,t)},extend:function(t){if("object"!=typeof t)throw new Error("expected object");var e=Object.create(this);return u(e,t),e.fastdom=this,e.initialize&&e.initialize(),e},catch:null};var exports=t.fastdom=t.fastdom||new e;"f"==(typeof define)[0]?define(function(){return exports}):"o"==(typeof module)[0]&&(module.exports=exports)}("undefined"!=typeof window?window:this);
